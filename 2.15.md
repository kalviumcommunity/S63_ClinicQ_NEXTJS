Database Migrations & Seed Scripts

In this concept, you’ll learn how to create reproducible database migrations and data seeding scripts using Prisma ORM. This ensures your entire team — and later, your deployment environments — share the same database structure and consistent starting data.

Note: These are general guidelines — you may customize your models, migration names, and seed data based on your project’s problem statement and data requirements.

What You’ll Do
Understand Database Migrations

A migration captures the changes made to your schema (like creating new tables or modifying fields) and keeps the database in sync with your Prisma models.

Run this command to create and apply your first migration:

npx prisma migrate dev --name init_schema
Prisma will:

Generate migration SQL files inside prisma/migrations/
Apply the changes to your connected PostgreSQL database
Update your schema.prisma and client accordingly
Modify and Re-run Migrations

When you add or update a model, create a new migration:

npx prisma migrate dev --name add_project_table
Check the generated SQL file to understand what changes are applied.

To rollback a migration or reset your schema:

npx prisma migrate reset
This command resets the database, re-applies all migrations, and optionally re-runs seed data.

Create a Seed Script

Add a file at prisma/seed.ts to insert initial records:

import { PrismaClient } from '@prisma/client';
const prisma = new PrismaClient();

async function main() {
  await prisma.user.createMany({
    data: [
      { name: 'Alice', email: 'alice@example.com' },
      { name: 'Bob', email: 'bob@example.com' },
    ],
  });

  console.log('Seed data inserted successfully');
}

main()
  .then(async () => await prisma.$disconnect())
  .catch(async (e) => {
    console.error(e);
    await prisma.$disconnect();
    process.exit(1);
  });
Add this script reference inside your package.json:

"prisma": {
  "seed": "ts-node prisma/seed.ts"
}
Run the seed:

npx prisma db seed
Verify the Seed Data

Open Prisma Studio or your PostgreSQL client:

npx prisma studio
Check if your data appears correctly and confirm that re-running the seed script doesn’t duplicate entries — this is idempotency.

Document in README

Clearly document:

The migration workflow (prisma migrate dev, migrate reset)
How to rollback safely
Your seed script and sample output logs
A reflection on how you protect production data (backups, staging testing before migration)
Include screenshots or terminal logs as proof of successful migrations and seeding.

Deliverables
prisma/migrations/ folder with migration files
prisma/seed.ts file with reproducible seed logic
Successful migration and seeding logs or screenshots
Updated README with detailed workflow, rollback, and reflection
Pro Tip: Reliable migrations make your project production-ready. Treat every schema change as versioned code — test locally, seed cleanly, and keep your data consistent everywhere.

Resources
Prisma ORM: Database Migrations with Prisma Migrate
Prisma ORM: Using Prisma Studio to View and Edit Data
